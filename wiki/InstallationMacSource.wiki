#summary Macintosh source code install instructions

These instructions apply to version 0.14.

They have been tested on Snow Leopard, so there might be small changes for Leopard.

You will need Administrative privileges to run the installation.  

Note that this can take quite some time.  If you have not previously installed Xcode or !MacPorts then it could take several hours.  It will also download a large number of files, so make sure you have network access with good bandwidth and large download limits.

== Installation ==

  *  These instructions assume you have extracted the Biodiverse folders into your home directory.  If not then change the `$HOME/biodiverse/lib` text in the following for the folder path you have used (i.e. if it is in `/opt/biodiverse` then use `/opt/biodiverse/lib`).

  *  Install the Xcode software, as it is needed to compile the !MacPorts libraries.  This requires registration with Apple.  If you do not have the installation disk (it comes with the computer when you purchase it) then you need to download it.  The download is also >2GB, of which a large part of which is the iPhone SDK which we don't need.  http://developer.apple.com/technologies/xcode.html

  *  Install MacPorts unless you already have it.  If you are not sure then try to install it anyway and it will tell you.
    * If your operating system is Snow Leopard then use http://distfiles.macports.org/MacPorts/MacPorts-1.8.1-10.6-SnowLeopard.dmg
    * If your operating system is Leopard then use http://distfiles.macports.org/MacPorts/MacPorts-1.8.1-10.5-Leopard.dmg
    * (If needed, for example to get more recent installers, the generic !MacPorts URL is http://www.macports.org ).
    * Double click on the dmg file contents to install.  The remaining instructions assume you are using the default location (`/opt`).
  *  Run this command in a terminal window to get the latest versions of the !MacPorts libraries.
{{{
sudo port -v selfupdate
}}}

  *  Now install the perl libraries needed by Biodiverse.  The following commands will require some interaction when they download additional packages, depending on your CPAN settings.  The first two commands install the perl wrappers for Glade and Gnome Canvas and will also install all the other necessary libraries on which they depend (this will take a while).  The third installs the remaining perl libraries.
{{{
sudo port install p5-gtk2-gladexml
sudo port install p5-gnome-canvas

sudo /opt/local/bin/perl -MCPAN -Mlib=$HOME/biodiverse/lib -e 'install Bundle::Biodiverse'
}}}

== Running it ==

  * To run Biodiverse, open a terminal window and change directory to the biodiverse/bin folder.  If it is in your home folder and called `biodiverse` then type:
{{{
cd ~/biodiverse/bin
}}}
  * Once you have done this, type the following command to open Biodiverse.
{{{
/opt/local/bin/perl BiodiverseGUI.pl
}}}
  *  Alternately, you could give the full path to both Perl and Biodiverse if you want to start in a particular directory (i.e. where all your files are).
{{{
/opt/local/bin/perl ~/biodiverse/bin/BiodiverseGUI.pl
}}}


  The full path to perl is used to ensure the !MacPorts version is used.  You can dispense with the `/opt/local/bin` text if the !MacPorts version is the first perl in the search path. To check if it is, type:
{{{
which perl
}}}

  If it returns `/opt/local/bin/perl` then you can just type this command to run Biodiverse.
{{{
perl ~/biodiverse/bin/BiodiverseGUI.pl
}}}


== Trouble shooting ==

  *  If Perl complains that it cannot locate a file when running Biodiverse then this library will need to be installed using `cpan`. The complaint will start with text like _Can't locate Fred/Fred.pm in @INC (@INC contains:...)_ In this case, install module Fred::Fred (substitute a double colon "::" for each forward slash "/", and remove the trailing ".pm" from the module it cannot locate).  E.g.: `sudo /opt/local/bin/perl -MCPAN -e 'install Fred::Fred'` .
  *  !MacPorts might also complain that files are out of sync, probably if you have an existing !MacPorts installation.  If this is the case then run this command to ensure all files are up to date.
{{{
sudo port -v selfupdate
}}}