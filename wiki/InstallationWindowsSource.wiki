#summary Windows source code install instructions
#sidebar Installation

These instructions apply to version 0.18.

These assume you have saved the Biodiverse source code to C:\biodiverse.  If you have not then change the `C:\biodiverse\lib` path in the following to the appropriate path.

_DO NOT USE A PATH WITH SPACES IN IT_.  This causes problems with the batch file used to run the source code version.  (This has no effect on the executable file).

If you don't like the window theme it uses then you can change it using the GTK+ Preference Tool from http://sourceforge.net/userapps/mediawiki/alex-sh/index.php?title=Main_Page

The instructions in this file are based on the Strawberry Perl distribution.  It is possible to use other perl distributions on Wndows, but you will need to compile several of the dependencies yourself.

<wiki:toc max_depth="4" />

= !Strawberry Perl =

== Installation ==

This will require some interaction when it downloads additional packages, depending on your CPAN settings.  

  *  [http://code.google.com/p/biodiverse/downloads/list Download] the Biodiverse source code and save it to your hard drive.  Alternately, use a subversion client to obtain the main development version or one of the release tags.  http://code.google.com/p/biodiverse/source/checkout
  *  Download and install !Strawberry perl http://strawberryperl.com/ .
  *  Download the Gtk binaries for windows.  Use a Subversion client to access this branch:  http://code.google.com/p/biodiverse/source/browse/#svn%2Fbranches%2Fgtk_win_builds%2Fetc
  *  Now you need to install the Biodiverse specific dependencies.
{{{
:: Add the Gtk bin folder to the front of your path, making sure you use the path where you put it.  
:: If this is not done correctly then the installation will not complete properly.  
set PATH=C:\gtk_win64\c\bin;%PATH%

:: Install the precompiled binaries needed for the GUI.
:: Edit the next line to match the perl version you are using, e.g. 5.16_x64 for the 64 bit version.
cd C:\biodiverse\etc\ppm\516
ppm install Cairo.ppd Glib.ppd Gnome2-Canvas.ppd Gtk2-GladeXML.ppd Gtk2.ppd Pango.ppd

:: Now install the libs needed for the GUI
cd C:\biodiverse\etc\bundles\NoGUI
cpanm -i .
cd ..\GUI
cpanm -i .
cpanm -i .
}}}

== Updating ==

  *  If you are updating an existing installation then you can repeat the command line steps from the installation process above.

  
== Running it ==

  * To run Biodiverse, open a terminal window and change directory to the biodiverse\bin folder.  If it is in C:\biodiverse\bin:
{{{
cd C:\biodiverse\bin
}}}
  * Once you have done this, type the following command to open Biodiverse.  This assumes you are using the perl version from the C:\strawberry folder, so edit as appropriate (see above).
{{{
C:\strawberry\perl\bin\perl BiodiverseGUI.pl
}}}
  *  Alternately, you could give the full path to both Perl and Biodiverse if you want to start in a particular directory (i.e. where all your files are).
{{{
C:\strawberry\perl\bin\perl C:\biodiverse\bin\BiodiverseGUI.pl
}}}


= Trouble shooting =

  *  If things don't work then the first thing to check is that you are using the correct perl (or at least the one you think you should be using).  Check your path to see which perl is at the front of the list.  You can also type `perl -v` to see basic information about the perl version in use.  
  *  If you have more than one Perl and/or GTK installed on your system then you need to ensure that the versions you want to use are first in the PATH environment variable.  This is because the binaries are not compatible between major perl versions and often also distributions.  You can manually edit the paths, but it is probably best to create a batch script to do this so it is easy to change things back and forth.
  *  If, Perl complains that it cannot locate a file when running Biodiverse then this library will need to be installed interactively using cpanm. The complaint will contain text like `Can't locate Fred/Fred.pm in @INC (@INC contains:...)`  In this case, install module Fred::Fred (substitute a double colon "::" for each forward slash "/", and remove the trailing ".pm" from the module it cannot locate). E.g.: `C:\strawberry\perl\bin\cpanm  Fred::Fred` . This can happen if one or more of the modules listed in the bundle failed to install.

  *  Please report any other issues using the [http://code.google.com/p/biodiverse/issues/list project issue tracker]
  